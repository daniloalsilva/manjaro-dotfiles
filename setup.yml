---
  - name: "Playing with Ansible and Git"
    hosts: localhost
    connection: local 
    tasks:
    
    - name: Enable AUR
      replace:
        path: /etc/pamac.conf
        regexp: '#EnableAUR'
        replace: 'EnableAUR'
      register: aur_enabled 
      become: yes

    - name: Force update pamac conf
      shell:
        cmd: yes | pamac checkupdate
      become: yes
      when: aur_enabled.changed

    - name: "install vim"
      package:
        name: vim
        state: present
      become: yes

    - name: "install vscode"
      package:    
        name: vscode
        state: present
      become: yes

    - name: "install chromium"
      package:
        name: chromium
        state: present
      become: yes

    - name: "install pt-br spelling check"
      package:
        name: hunspell-pt_br
        state: present
    
    - name: install xcape (super btn fix)
      package:
        name: xcape
        state: present
      become: yes

    - name: "disable bios beep"
      copy:
        dest: $HOME/.profile
        content: |
          xset -b

    roles:
    - xfce-perchannel-xml
    - xfce-whisker
    - autostart
